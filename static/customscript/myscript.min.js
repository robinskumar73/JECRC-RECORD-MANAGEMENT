$(document).ready(function(b){var a=app.Global.Department.fetch({error:function(){console.log("Error fetching department..")},success:function(){console.log("Successfully fecthed department data..")}});$.when(a).done(function(){dept_views.render();var c=app.Global.Department.pluck("name");var d=JSON.stringify(c);$("#DepartmentCreate .typeahead").typeahead({hint:true,highlight:true,minLength:1},{name:"dept",displayKey:"value",source:substringMatcher(c)})})});var substringMatcher=function(a){return function b(f,c){var e,d;e=[];d=new RegExp(f,"i");$.each(a,function(g,h){if(d.test(h)){e.push({value:h})}});c(e)}};